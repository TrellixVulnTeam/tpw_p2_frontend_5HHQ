{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/topics.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"../../components/menu/menu.component\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../../components/topic/topic.component\";\n\nfunction ManageTopicsComponent_p_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 18);\n    i0.ɵɵtext(1, \"Error: Topic already exists.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ManageTopicsComponent_app_topic_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-topic\", 19);\n  }\n\n  if (rf & 2) {\n    const topic_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"topic\", topic_r3);\n  }\n}\n\nfunction ManageTopicsComponent_p_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"No topics available\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let ManageTopicsComponent = /*#__PURE__*/(() => {\n  class ManageTopicsComponent {\n    constructor(topicsService, fb) {\n      this.topicsService = topicsService;\n      this.fb = fb;\n      this.topics = [];\n      this.repeated = false;\n    }\n\n    ngOnInit() {\n      this.getTopics();\n      this.topicForm = this.fb.group({\n        description: [null],\n        enabled: [true]\n      });\n    }\n\n    getTopics() {\n      return this.topicsService.getTopics().subscribe(topics => {\n        this.topics = topics;\n      });\n    }\n\n    topicSubmit() {\n      this.repeated = false;\n      var descricao = this.topicForm.value.description;\n      var x = false;\n\n      for (var a of this.topics) {\n        if (a.description == descricao) {\n          x = true;\n          break;\n        }\n      }\n\n      if (x) {\n        this.topicForm.reset();\n        this.repeated = true;\n        return false;\n      }\n\n      return this.topicsService.createTopic(this.topicForm).subscribe(topic => {\n        this.topicAdded = topic;\n        this.getTopics();\n        this.topicForm.reset();\n      });\n    }\n\n  }\n\n  ManageTopicsComponent.ɵfac = function ManageTopicsComponent_Factory(t) {\n    return new (t || ManageTopicsComponent)(i0.ɵɵdirectiveInject(i1.TopicsService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n  };\n\n  ManageTopicsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ManageTopicsComponent,\n    selectors: [[\"app-manage-topics\"]],\n    decls: 30,\n    vars: 4,\n    consts: [[1, \"wrapper\"], [1, \"content-wrapper\"], [1, \"content-header\"], [1, \"container-fluid\"], [1, \"mb-2\"], [1, \"m-0\"], [1, \"content\"], [1, \"card\", \"card-default\", \"mt-3\"], [1, \"card-body\"], [\"action\", \"\", \"method\", \"post\", 3, \"formGroup\", \"ngSubmit\"], [1, \"row\"], [1, \"ml-auto\", \"col-11\", 2, \"padding-right\", \"10px\"], [\"type\", \"\", \"name\", \"new_topic\", \"value\", \"\", \"formControlName\", \"description\", 1, \"form-control\"], [1, \"ml-auto\", \"col-1\", 2, \"padding-right\", \"10px\"], [\"type\", \"submit\", \"name\", \"save_topic\", \"value\", \"save_topic\", \"routerLink\", \"/topics\", 1, \"btn\", \"btn-primary\"], [\"style\", \"color: red; align-items: center;\", 4, \"ngIf\"], [\"class\", \"topic_row\", 3, \"topic\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [2, \"color\", \"red\", \"align-items\", \"center\"], [1, \"topic_row\", 3, \"topic\"]],\n    template: function ManageTopicsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-menu\");\n        i0.ɵɵelementStart(1, \"div\", 0);\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵelementStart(3, \"div\", 2);\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"h1\", 5);\n        i0.ɵɵtext(7, \"Manage Topics\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 6);\n        i0.ɵɵelementStart(9, \"div\", 3);\n        i0.ɵɵelementStart(10, \"div\", 7);\n        i0.ɵɵelementStart(11, \"div\", 8);\n        i0.ɵɵelementStart(12, \"h6\");\n        i0.ɵɵelementStart(13, \"b\");\n        i0.ɵɵtext(14, \" Add topic:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"form\", 9);\n        i0.ɵɵlistener(\"ngSubmit\", function ManageTopicsComponent_Template_form_ngSubmit_15_listener() {\n          return ctx.topicSubmit();\n        });\n        i0.ɵɵelementStart(16, \"div\", 10);\n        i0.ɵɵelementStart(17, \"div\", 11);\n        i0.ɵɵelement(18, \"input\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 13);\n        i0.ɵɵelementStart(20, \"button\", 14);\n        i0.ɵɵtext(21, \"Create Topic\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(22, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(23, ManageTopicsComponent_p_23_Template, 2, 0, \"p\", 15);\n        i0.ɵɵelementStart(24, \"h6\");\n        i0.ɵɵelementStart(25, \"b\");\n        i0.ɵɵtext(26, \"Manage topics:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(27, \"hr\");\n        i0.ɵɵtemplate(28, ManageTopicsComponent_app_topic_28_Template, 1, 1, \"app-topic\", 16);\n        i0.ɵɵtemplate(29, ManageTopicsComponent_p_29_Template, 2, 0, \"p\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"formGroup\", ctx.topicForm);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.repeated);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.topics);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.topics.length == 0);\n      }\n    },\n    directives: [i3.MenuComponent, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlName, i4.RouterLink, i5.NgIf, i5.NgForOf, i6.TopicComponent],\n    styles: [\"input[_ngcontent-%COMP%]{width:90%}h6[_ngcontent-%COMP%]{margin-bottom:20px}\"]\n  });\n  return ManageTopicsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}